<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Menu | DAHAR COFFEE</title>
  <meta name="description" content="Découvrez le menu de DAHAR COFFEE — Nos cafés, Milkshakes, Mojitos, Frappés, Crêpes et Pâtisseries." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="icon" href="images/logoitem.png" type="image/png">
  <link rel="shortcut icon" href="images/logoitem.png" type="image/png">
  <!-- Open Graph for WhatsApp preview -->
<meta property="og:title" content="DAHAR COFFEE – Café Premium à Casablanca">
<meta property="og:description" content="Découvrez notre menu, ambiance chaleureuse, et carte de fidélité.">
<meta property="og:image" content="images/logoitem.png">
<meta property="og:type" content="website">
</head>
<body>
  <header class="site-header">
    <div class="container nav-wrap">
      <a class="brand" href="index.html">
        <span class="brand-mark"><img src="images/logo.webp" alt="Logo Dahar Coffee"></span>
        <span class="brand-text">DAHAR COFFEE</span>
      </a>

      <button class="nav-toggle" aria-label="Toggle menu" aria-expanded="false">
        <span class="bar"></span><span class="bar"></span><span class="bar"></span>
      </button>

      <nav class="site-nav" aria-label="Primary">
        <ul>
          <li><a href="index.html"><i class="fas fa-home"></i> Accueil</a></li>
          <li><a href="menu.html" class="active"><i class="fas fa-utensils"></i> Menu</a></li>
          <li><a href="loyalty.html"><i class="fas fa-user"></i> Carte de Fidélité</a></li>
          <li><a href="index.html#contact" class="btn btn-sm"><i class="fas fa-envelope"></i> Contact</a></li>
          <li><a class="btn btn-gold" href="tel:+212626338036"><i class="fas fa-phone-alt"></i> Appeler</a></li>
          <li><a class="btn btn-green" href="https://wa.me/212626338036" target="_blank" rel="noopener"><i class="fab fa-whatsapp"></i> WhatsApp</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="menu-page">
    <section class="menu-hero">
      <div class="container">
        <h1 class="display"><i class="fas fa-utensils"></i> Notre Menu</h1>
        <p class="lead"><i class="fas fa-heart"></i> Découvrez nos délices préparés avec passion</p>
        <div class="loyalty-banner">
          <a href="loyalty.html" class="btn btn-loyalty">
            <i class="fas fa-trophy"></i> Découvrez notre Carte de Fidélité
          </a>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="container" id="menu-container">
        <!-- Menu will be dynamically loaded here -->
      </div>
    </section>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        fetch('./data/menu.json')
          .then(response => {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            return response.json();
          })
          .then(menuData => {
            const menuContainer = document.getElementById('menu-container');
            
            menuData.forEach(section => {
              // Create section title
              const sectionTitle = document.createElement('h2');
              sectionTitle.className = 'menu-section-title';
              sectionTitle.innerHTML = `<i class="${section.icon}"></i> ${section.section}`;
              menuContainer.appendChild(sectionTitle);
              
              // Add section description if exists
              if (section.description) {
                const sectionDesc = document.createElement('p');
                sectionDesc.className = 'menu-section-desc';
                sectionDesc.textContent = section.description;
                menuContainer.appendChild(sectionDesc);
              }
              
              // Create menu grid
              const menuGrid = document.createElement('div');
              menuGrid.className = 'menu-grid';
              
              // Add menu items
              section.items.forEach(item => {
                const menuItem = document.createElement('article');
                menuItem.className = 'menu-card';
                menuItem.setAttribute('data-name', item.name);
                
                menuItem.innerHTML = `
                  <img src="${item.image}" alt="${item.name}" class="menu-img" />
                  <div class="menu-info">
                    <h3 class="menu-name">${item.name}</h3>
                    <div class="menu-price">${item.price} DH</div>
                  </div>
                `;
                
                menuGrid.appendChild(menuItem);
              });
              
              menuContainer.appendChild(menuGrid);
              
              // Add some spacing between sections
              const sectionSpacer = document.createElement('div');
              sectionSpacer.className = 'section-spacer';
              menuContainer.appendChild(sectionSpacer);
            });
            
            // Re-initialize lightbox after loading content
            if (typeof initLightbox === 'function') {
              initLightbox();
            }
          })
          .catch(error => {
            console.error('Error loading menu data:', error);
            const errorMessage = document.createElement('div');
            errorMessage.className = 'error-message';
            errorMessage.textContent = 'Désolé, une erreur est survenue lors du chargement du menu. Veuillez réessayer plus tard.';
            document.getElementById('menu-container').appendChild(errorMessage);
          });
      });
    </script>
    </section>
  </main>

  <!-- Lightbox modal -->
  <div class="lightbox" role="dialog" aria-modal="true" aria-label="Image preview">
    <button class="lightbox-close" aria-label="Close preview">×</button>
    <img src="" alt="" class="lightbox-img" />
    <div class="lightbox-caption"></div>
  </div>

  <footer class="footer">
    <div class="footer-grid">
      <!-- Colonne 1 : Logo & Description -->
      <div class="footer-brand">
        <img src="images/logo.webp" alt="Logo Dahar Coffee" class="footer-logo">
        <p>Chez DAHAR COFFEE, chaque tasse est un voyage sensoriel entre tradition et modernité.</p>
      </div>
  
      <!-- Colonne 2 : Liens rapides -->
      <div class="footer-links">
        <h4>Liens rapides</h4>
        <ul>
          <li><a href="index.html">Accueil</a></li>
          <li><a href="menu.html">Menu</a></li>
          <li><a href="loyalty.html">Carte de Fidélité</a></li>
          <li><a href="index.html#contact">Contact</a></li>
        </ul>
      </div>
  
      <!-- Colonne 3 : Coordonnées -->
      <div class="footer-contact">
        <h4>Contact</h4>
        <p><i class="fas fa-map-marker-alt"></i> Avenue Hassan II, Essaouira, Maroc</p>
        <p><i class="fas fa-phone"></i> +212 6 12 34 56 78</p>
        <p><i class="fas fa-envelope"></i> contact@daharcoffee.ma</p>
      </div>
  
      <!-- Colonne 4 : Newsletter -->
      <div class="footer-newsletter">
        <h4>Newsletter</h4>
        <p>Recevez nos dernières offres et nouveautés directement dans votre boîte mail.</p>
        <form>
          <input type="email" placeholder="Votre e-mail" required>
          <button type="submit">S'abonner</button>
        </form>
      </div>
    </div>
  
    <!-- Bas de footer -->
    <div class="footer-bottom">
      <p>© 2025 DAHAR COFFEE — Tous droits réservés</p>
      <p>Project by <a href="https://devaxio.com" target="_blank" rel="noopener">Devaxio</a></p>
      <div class="social-icons">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
      </div>
    </div>
  </footer>

  <script src="js/script.js"></script>
</body>
</html>